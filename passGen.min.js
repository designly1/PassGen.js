var PassGen=class{constructor(t){const r={numbers:"0123456789",lowercase:"abcdefghijklmnopqrstuvwxyz",uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",symbols:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",space:" "},e={charSets:["numbers","lowercase","uppercase","symbols"],length:10,lengthMethod:"length",entropy:128,errorCallback:null,outputCallback:null,debugConsole:!1};this.currentPassword="",this.stats="",this.cryptoObject=null,this.config={},Object.assign(this.config,e,t),this.charSet="";var o=this;this.config.charSets.forEach(function(t){o.charSet+=r[t]}),this.initCrypto()}error(t){this.config.debugConsole&&console.log("ERROR: "+t),"function"==typeof this.config.errorCallback?this.config.errorCallback(t):alert(t)}outputPassword(){this.config.debugConsole&&(console.log("Generated password: "+this.currentPassword),console.log("Statistics: "+this.stats)),"function"==typeof this.config.outputCallback?this.config.outputCallback(this.currentPassword,this.stats):alert(this.currentPassword)}initCrypto(){if("crypto"in window)this.cryptoObject=crypto;else{if(!("msCrypto"in window))return;this.cryptoObject=msCrypto}"getRandomValues"in this.cryptoObject&&"Uint32Array"in window&&"function"!=typeof Uint32Array&&(this.cryptoObject=null)}getPasswordCharacterSet(){var t=this.charSet;t=t.replace(/ /g," ");for(var r=[],e=0;e<t.length;e++){var o=t.charCodeAt(e);if(!(o<55296||o>=57344)){if(55296<=o&&o<56320&&e+1<t.length){var s=t.charCodeAt(e+1);if(56320<=s&&s<57344){n=t.substring(e,e+2);e++,-1==r.indexOf(n)&&r.push(n);continue}}throw new RangeError("Invalid UTF-16")}var n=t.charAt(e);-1==r.indexOf(n)&&r.push(n)}return r}generate(){var t=this.getPasswordCharacterSet();if(0!=t.length)if("entropy"!=this.config.lengthMethod||1!=t.length){var r;if("length"==this.config.lengthMethod)r=parseInt(this.config.length);else{if("entropy"!=this.config.lengthMethod)throw new Error("Assertion error");r=Math.ceil(parseFloat(this.config.entropy)*Math.log(2)/Math.log(t.length))}if(r<0)this.error("Negative password length");else if(r>1e4)this.error("Password length too large");else{this.currentPassword=this.generatePassword(t,r);var e,o=Math.log(t.length)*r/Math.log(2);e=o<70?o.toFixed(2):o<200?o.toFixed(1):o.toFixed(0),this.stats="Length = "+r+" chars,   Charset size = "+t.length+" symbols,   Entropy = "+e+" bits",this.outputPassword()}}else this.error("Error: Need at least 2 distinct characters in set");else this.error("Error: Character set is empty")}generatePassword(t,r){for(var e="",o=0;o<r;o++)e+=t[this.randomInt(t.length)];return e}randomInt(t){var r=this.randomIntMathRandom(t);return r=(r+this.randomIntBrowserCrypto(t))%t,r}randomIntMathRandom(t){var r=Math.floor(Math.random()*t);if(r<0||r>=t)throw new Error("Arithmetic exception");return r}randomIntBrowserCrypto(t){if(null===this.cryptoObject)return 0;var r=new Uint32Array(1);do{this.cryptoObject.getRandomValues(r)}while(r[0]-r[0]%t>4294967296-t);return r[0]%t}copy(t){if("clipboard"in navigator)navigator.clipboard.writeText(this.currentPassword);else{var r=document.querySelector("article"),e=document.createElement("textarea");e.style.position="fixed",e.style.opacity="0",r.insertBefore(e,r.firstChild),e.value=this.currentPassword,e.focus(),e.select(),document.execCommand("copy"),r.removeChild(e)}"function"==typeof t&&t(this.currentPassword)}};